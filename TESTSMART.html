<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Settings | Smart Personal Budget</title>

    
    <script src="https://cdn.tailwindcss.com"></script>

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            background-color: #f9fafb;
            font-family: Arial, sans-serif;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        
        .theme-protanopia { background-color: #f8fafc; }
        .theme-deuteranopia { background-color: #f9fafb; }
        .theme-tritanopia { background-color: #fef3c7; }
        .theme-light-blue { background-color: #f0f9ff; }

        
        .theme-dark {
            background-color: #1f2937;
            color: white;
        }

       
        .theme-dark header {
            background-color: #1f2937;
        }

        .theme-dark header h1,
        .theme-dark header p,
        .theme-dark header i {
            color: white !important;
        }

        
        .theme-dark h1,
        .theme-dark h2,
        .theme-dark h3,
        .theme-dark p,
        .theme-dark span,
        .theme-dark strong,
        .theme-dark label {
            color: white;
        }

       
        .theme-dark .card {
            background-color: #374151;
            color: white;
        }

        
        .theme-dark input {
            background-color: #1f2937;
            color: white;
            border-color: #4b5563;
        }

       
        .theme-dark a {
            color: #93c5fd;
        }

        
        .theme-dark .theme-option {
            background-color: #374151;
            color: white;
        }

        .theme-option {
            cursor: pointer;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">


<header class="bg-white shadow p-4 flex justify-between items-center">
    <div class="flex items-center gap-3">
        <i class="fas fa-wallet text-blue-500 text-2xl"></i>
        <div>
            <h1 class="font-bold text-lg">Smart Personal Budget</h1>
            <p class="text-xs text-gray-500">Group 6 Project</p>
        </div>
    </div>
    <button id="mobileMenuBtn" class="md:hidden">
        <i class="fas fa-bars text-xl"></i>
    </button>
</header>


<div id="mobileMenu" class="hidden bg-gray-100 p-4 md:hidden">
    <a href="dashboard.html" class="block py-2">Dashboard</a>
    <a href="expenses.html" class="block py-2">Expenses</a>
    <a href="budget.html" class="block py-2">Budget</a>
    <a href="settings.html" class="block py-2 font-bold">Settings</a>
</div>


<main class="container mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6 flex-grow">

   
    <div class="lg:col-span-2 space-y-6">

       
        <div class="card">
            <h2 class="text-xl font-semibold mb-4">
                <i class="fas fa-user text-blue-500"></i> User Profile
            </h2>

            <form id="profileForm">
                <label class="block mb-2">Full Name</label>
                <input id="userName" type="text" class="w-full border p-2 mb-4" value="John Doe">

                <label class="block mb-2">Email</label>
                <input id="userEmail" type="email" class="w-full border p-2 mb-4" value="john.doe@example.com">

                <button class="bg-blue-500 text-white px-4 py-2 rounded">
                    Save Profile
                </button>

                <p id="profileSaveMsg" class="text-green-400 mt-3 hidden">Profile saved!</p>
            </form>
        </div>

        <!-- THEMES -->
        <div class="card">
            <h2 class="text-xl font-semibold mb-4">
                <i class="fas fa-palette text-green-500"></i> Themes
            </h2>

            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <div class="theme-option border p-4 text-center" data-theme="default">Default</div>
                <div class="theme-option border p-4 text-center" data-theme="dark">Dark</div>
                <div class="theme-option border p-4 text-center" data-theme="light-blue">Light Blue</div>
                <div class="theme-option border p-4 text-center" data-theme="protanopia">Protanopia</div>
                <div class="theme-option border p-4 text-center" data-theme="deuteranopia">Deuteranopia</div>
                <div class="theme-option border p-4 text-center" data-theme="tritanopia">Tritanopia</div>
            </div>

            <p class="mt-4">
                Current Theme:
                <span id="currentThemeDisplay" class="font-bold">default</span>
            </p>

            <button id="resetThemeBtn" class="mt-4 border px-4 py-2 rounded">
                Reset Theme
            </button>
        </div>
    </div>

    
    <div class="space-y-6">

        
        <div class="card">
            <h2 class="text-xl font-semibold mb-4">
                <i class="fas fa-clipboard"></i> Settings Summary
            </h2>

            <p>Theme: <strong id="summaryTheme">default</strong></p>
            <p>Name: <strong id="summaryUser">John Doe</strong></p>
            <p>Email: <strong id="summaryEmail">john.doe@example.com</strong></p>
        </div>

        
        <div class="card">
            <h2 class="text-xl font-semibold mb-4">
                <i class="fas fa-chart-pie"></i> Category Distribution
            </h2>

            <div class="h-64">
                <canvas id="categoryChart"></canvas>
            </div>

            <button id="exportSettingsBtn" class="mt-4 border w-full py-2">
                Export Settings
            </button>

            <button id="printSettingsBtn" class="mt-2 bg-blue-500 text-white w-full py-2">
                Print Settings
            </button>
        </div>
    </div>
</main>


<div id="printSection" class="hidden p-6">
    <h1 class="text-xl font-bold">Settings Summary</h1>
    <p>Date: <span id="printDate"></span></p>
    <p>Name: <span id="printUser"></span></p>
    <p>Email: <span id="printUserEmail"></span></p>
    <p>Theme: <span id="printTheme"></span></p>
</div>


<script>
    var currentTheme = "default";
    var chart;

    document.addEventListener("DOMContentLoaded", function () {
        loadProfile();
        loadTheme();
        updateSummary();
        loadChart();

        profileForm.addEventListener("submit", saveProfile);
        resetThemeBtn.addEventListener("click", resetTheme);
        exportSettingsBtn.addEventListener("click", exportSettings);
        printSettingsBtn.addEventListener("click", printSettings);
        mobileMenuBtn.addEventListener("click", toggleMenu);

        document.querySelectorAll(".theme-option").forEach(function (item) {
            item.addEventListener("click", function () {
                setTheme(item.dataset.theme);
            });
        });
    });

    function saveProfile(e) {
        e.preventDefault();
        localStorage.setItem("name", userName.value);
        localStorage.setItem("email", userEmail.value);
        profileSaveMsg.classList.remove("hidden");
        updateSummary();
    }

    function loadProfile() {
        userName.value = localStorage.getItem("name") || "John Doe";
        userEmail.value = localStorage.getItem("email") || "john.doe@example.com";
    }

    function updateSummary() {
        summaryUser.innerText = userName.value;
        summaryEmail.innerText = userEmail.value;
        summaryTheme.innerText = currentTheme;
    }

    function setTheme(theme) {
        document.body.className = "";
        if (theme !== "default") {
            document.body.classList.add("theme-" + theme);
        }
        currentTheme = theme;
        currentThemeDisplay.innerText = theme;
        summaryTheme.innerText = theme;
        localStorage.setItem("theme", theme);
    }

    function loadTheme() {
        var t = localStorage.getItem("theme");
        if (t) setTheme(t);
    }

    function resetTheme() {
        setTheme("default");
    }

    function loadChart() {
        chart = new Chart(categoryChart, {
            type: "doughnut",
            data: {
                labels: ["Food", "Transport", "Entertainment", "Shopping"],
                datasets: [{
                    data: [30, 20, 25, 25],
                    backgroundColor: ["#3b82f6", "#10b981", "#8b5cf6", "#f59e0b"]
                }]
            }
        });
    }

    function exportSettings() {
        var data = {
            name: userName.value,
            email: userEmail.value,
            theme: currentTheme
        };
        var blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
        var link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "settings.json";
        link.click();
    }

    function printSettings() {
        printDate.innerText = new Date().toString();
        printUser.innerText = userName.value;
        printUserEmail.innerText = userEmail.value;
        printTheme.innerText = currentTheme;
        printSection.classList.remove("hidden");
        window.print();
        printSection.classList.add("hidden");
    }

    function toggleMenu() {
        mobileMenu.classList.toggle("hidden");
    }
</script>

</body>
</html>
